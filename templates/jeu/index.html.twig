{# templates/jeu/afficher.html.twig #}
{% extends 'base.html.twig' %}

{% block body %}
    <h1>{{ jeu.nom }}</h1>
    <p>Jeu: {{ jeu.nom }}</p>
    <p>Date de sortie: {{ jeu.dateSortie|date('d/m/Y') }}</p>
    <p>Développeur: {{ jeu.developpeur.nom }}</p>
    <p>Éditeur: {{ jeu.editeur.nom }}</p>
    <h2>Offres disponibles :</h2>
    {% for offre in offres %}
        <div>
            <p>Prix : {{ offre.prix }}€</p>
            <p>Plateforme : {{ offre.plateformeJeu }}</p>
            <p><a href="{{ offre.lien }}">Acheter maintenant</a></p>
            <!-- Use a form to make a POST request for deletion -->
            <form action="{{ path('offre_delete', {'id': offre.id}) }}" method="post" onsubmit="return confirm('Are you sure you want to delete this offer?');">
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ offre.id) }}">
                <button type="submit" class="btn btn-danger">Delete Offre</button>
            </form>
        </div>
    {% endfor %}
{% endblock %}
